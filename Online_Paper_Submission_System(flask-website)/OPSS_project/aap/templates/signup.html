{% extends "base.html" %}
{% block body %}
<div class="auth-panel">
    <h2>Sign Up as {{ role }}</h2>

    <form action="/signup/{{ role }}" method="POST" id="signup-form">
        <div class="form-group">
            <input type="text" name="username" placeholder="Username" required>
        </div>
        <div class="form-group">
            <input type="password" name="password" placeholder="Password" id="password" required>
        </div>
        <div class="form-group">
            <input type="password" name="confirm_password" placeholder="Confirm Password" id="confirm_password" required>
        </div>
        <span id="error-message" class="message"></span>
        <button type="submit" class="btn-glow">Sign Up</button>
    </form>

    <p class="message">Already have an account? <a href="/login/{{ role }}">Login</a></p>
</div>

<script>
    document.getElementById('signup-form').addEventListener('submit', function(event) {
        const pwd = document.getElementById('password').value;
        const cpwd = document.getElementById('confirm_password').value;
        const msg = document.getElementById('error-message');
        if (pwd !== cpwd) {
            msg.textContent = "Passwords do not match.";
            event.preventDefault();
        } else {
            msg.textContent = "";
        }
    });
</script>
{% endblock %}
